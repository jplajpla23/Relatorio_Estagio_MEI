% Preamble
\documentclass[a4paper, twoside, 12pt]{report}

% % -------------------- New packages  ----------------------------
% \usepackage{multirow}
%\usepackage{changepage}
%\usepackage{titlesec}
\usepackage{amsmath}
\usepackage{float}
\usepackage{fancyhdr}

\usepackage{listings}

\usepackage{color}
\definecolor{lightgray}{rgb}{.9,.9,.9}
\definecolor{white}{rgb}{0,0,0}
\definecolor{darkgray}{rgb}{.4,.4,.4}
\definecolor{greenm}{rgb}{0,0.54,0}
\definecolor{purple}{rgb}{0.65, 0.12, 0.82}
\definecolor{brown}{rgb}{0.50, 0.25, 0}
\definecolor{numericC}{rgb}{1, 0.5, 0}
\lstdefinelanguage{JavaScript}{
literate=*{0}{{\textcolor{numericC}{0}}}{1}
         {1}{{\textcolor{numericC}{1}}}{1}
         {2}{{\textcolor{numericC}{2}}}{1}
         {3}{{\textcolor{numericC}{3}}}{1}
         {4}{{\textcolor{numericC}{4}}}{1}
         {5}{{\textcolor{numericC}{5}}}{1}
         {6}{{\textcolor{numericC}{6}}}{1}
         {7}{{\textcolor{numericC}{7}}}{1}
         {8}{{\textcolor{numericC}{8}}}{1}
         {9}{{\textcolor{numericC}{9}}}{1}
         {.0}{{\textcolor{numericC}{.0}}}{1}
         {.1}{{\textcolor{numericC}{.1}}}{1}
         {.2}{{\textcolor{numericC}{.2}}}{1}
         {.3}{{\textcolor{numericC}{.3}}}{1}
         {.4}{{\textcolor{numericC}{.4}}}{1}
         {.5}{{\textcolor{numericC}{.5}}}{1}
         {.6}{{\textcolor{numericC}{.6}}}{1}
         {.7}{{\textcolor{numericC}{.7}}}{1}
         {.8}{{\textcolor{numericC}{.8}}}{1}
         {.9}{{\textcolor{numericC}{.9}}}{1}
         {\ }{{ }}{1}
         ,
  keywords={typeof, new, true, false, catch, function, return, null, catch, switch, var, if, in, while, do, else, case, break,undefined,length,toString},
  keywordstyle=\color{blue},
  ndkeywords={class, export, boolean, throw, implements, import, this},
  ndkeywordstyle=\color{darkgray}\bfseries,
  identifierstyle=\color{black},
  sensitive=false,
  comment=[l]{//},
  morecomment=[s]{/*}{*/},
  commentstyle=\color{greenm}\ttfamily,
  stringstyle=\color{darkgray}\ttfamily,
  morestring=[b]',
  morestring=[b]"
}
\lstdefinelanguage{JavaScript2}{
literate=*{0}{{\textcolor{numericC}{0}}}{1}
         {.5}{{\textcolor{numericC}{.5}}}{1}
         {\ }{{ }}{1}
         ,
  keywords={Math, parseFLoat,pow,if,return,function},
  keywordstyle=\color{blue},
  ndkeywords={class, export, boolean, throw, implements, import, this},
  ndkeywordstyle=\color{darkgray}\bfseries,
  identifierstyle=\color{black},
  sensitive=false,
  comment=[l]{//},
  morecomment=[s]{/*}{*/},
  commentstyle=\color{greenm}\ttfamily,
  stringstyle=\color{darkgray}\ttfamily,
  morestring=[b]',
  morestring=[b]"
}
\definecolor{maroon}{rgb}{0.5,0,0}
\definecolor{darkgreen}{rgb}{0,0.5,0}
\lstdefinelanguage{XML}
{
  basicstyle=\ttfamily,
  morestring=[s]{"}{"},
  morecomment=[s]{?}{?},
  morecomment=[s]{!--}{--},
  commentstyle=\color{darkgreen},
  moredelim=[s][\color{black}]{>}{<},
  moredelim=[s][\color{red}]{\ }{=},
  stringstyle=\color{blue},
  identifierstyle=\color{maroon}
}

\definecolor{halfgray}{gray}{0.55}
\definecolor{ipython_frame}{RGB}{207, 207, 207}
\definecolor{ipython_bg}{RGB}{247, 247, 247}
\definecolor{ipython_red}{RGB}{186, 33, 33}
\definecolor{ipython_green}{RGB}{0, 128, 0}
\definecolor{ipython_cyan}{RGB}{64, 128, 128}
\definecolor{ipython_purple}{RGB}{170, 34, 255}


\lstdefinelanguage{Python}
{
literate=*{0}{{\textcolor{numericC}{0}}}{1}
         {1}{{\textcolor{numericC}{1}}}{1}
         {2}{{\textcolor{numericC}{2}}}{1}
         {3}{{\textcolor{numericC}{3}}}{1}
         {4}{{\textcolor{numericC}{4}}}{1}
         {5}{{\textcolor{numericC}{5}}}{1}
         {6}{{\textcolor{numericC}{6}}}{1}
         {7}{{\textcolor{numericC}{7}}}{1}
         {8}{{\textcolor{numericC}{8}}}{1}
         {9}{{\textcolor{numericC}{9}}}{1}
         {.0}{{\textcolor{numericC}{.0}}}{1}
         {.1}{{\textcolor{numericC}{.1}}}{1}
         {.2}{{\textcolor{numericC}{.2}}}{1}
         {.3}{{\textcolor{numericC}{.3}}}{1}
         {.4}{{\textcolor{numericC}{.4}}}{1}
         {.5}{{\textcolor{numericC}{.5}}}{1}
         {.6}{{\textcolor{numericC}{.6}}}{1}
         {.7}{{\textcolor{numericC}{.7}}}{1}
         {.8}{{\textcolor{numericC}{.8}}}{1}
         {.9}{{\textcolor{numericC}{.9}}}{1}
         {\ }{{ }}{1}
         ,
  keywords={bytearray, bytes,to_bytes,for,in ,range,len},
  keywordstyle=\color{blue},
  ndkeywords={class, export, boolean, throw, implements, import, this},
  ndkeywordstyle=\color{darkgray}\bfseries,
  identifierstyle=\color{black},
  sensitive=false,
  comment=[l]{\#},
  morecomment=[s]{/*}{*/},
  commentstyle=\color{greenm}\ttfamily,
  stringstyle=\color{darkgray}\ttfamily,
  morestring=[b]',
  morestring=[b]"
}

\lstset{
   language=JavaScript,
   backgroundcolor=\color{white},
   extendedchars=true,
   basicstyle=\footnotesize\ttfamily,
   showstringspaces=false,
   showspaces=false,
   numbers=left,
   numberstyle=\footnotesize,
   numbersep=9pt,
   tabsize=2,
   breaklines=true,
   showtabs=false,
   captionpos=b
}
\lstset{
   language=JavaScript2,
   backgroundcolor=\color{white},
   extendedchars=true,
   basicstyle=\footnotesize\ttfamily,
   showstringspaces=false,
   showspaces=false,
   numbers=left,
   numberstyle=\footnotesize,
   numbersep=9pt,
   tabsize=2,
   breaklines=true,
   showtabs=false,
   captionpos=b
}

\lstset{
   language=XML,
   backgroundcolor=\color{white},
   extendedchars=true,
   basicstyle=\footnotesize\ttfamily,
   showstringspaces=false,
   showspaces=false,
   numbers=left,
   numberstyle=\footnotesize,
   numbersep=9pt,
   tabsize=2,
   breaklines=true,
   showtabs=false,
   captionpos=b
}

\lstset{
   language=Python,
   backgroundcolor=\color{white},
   extendedchars=true,
   basicstyle=\footnotesize\ttfamily,
   showstringspaces=false,
   showspaces=false,
   numbers=left,
   numberstyle=\footnotesize,
   numbersep=9pt,
   tabsize=2,
   breaklines=true,
   showtabs=false,
   captionpos=b
}


\usepackage[linesnumbered,ruled,vlined]{algorithm2e}
\usepackage[noend]{algpseudocode}
\algnewcommand\algorithmicforeach{\textbf{for each}}
\algdef{S}[FOR]{ForEach}[1]{\algorithmicforeach\ #1\ \algorithmicdo}

\usepackage{array}
\newcolumntype{P}[1]{>{\centering\arraybackslash}p{#1}}

\setcounter{secnumdepth}{3}

\usepackage{textcomp}
\usepackage{gensymb}


\usepackage{pgfplots}
\usepackage{pgfplotstable} 


% % ------------------------------------------------

% Includes
		% UTF-8 encoding, so that yogoou can use characters like ç and ã

\usepackage[T1]{fontenc}				% Same, but for output encoding
\usepackage[utf8]{inputenc}		
\usepackage{tikz}
\def\checkmark{\tikz\fill[scale=0.4](0,.35) -- (.25,0) -- (1,.7) -- (.25,.15) -- cycle;} 
\def\diameter{\tikz\filldraw[fill=white!60,line width=0.15mm](0,0) circle[radius=0.15cm] -- (-0.18,-0.18) -- (-0.19,-0.19) -- (-0.19,-0.19)-- (0.18,0.18) -- cycle;} 

\usepackage[portuges]{babel}	% Still related to the above
\usepackage{acronym}					% List of acronyms
\usepackage{textcomp} 					% Extra characters
\usepackage{graphicx} 					% \includegraphics{}, the most common command to include images in figures
\usepackage{titlesec}					% To manually format the chapter titles
\usepackage[left=3cm,right=2.5cm,top=2.5cm,bottom=2.5cm]{geometry} % Margins, as dictated by the rules
%\usepackage[nottoc,numbib]{tocbibind} 	% Hyperlinks in table of contents, useful for navigation
\usepackage[section]{placeins}			% \FloatBarrier, a useful command when your figures are trying to run away
\usepackage{caption}					% For captioning figures
\usepackage{subcaption}					% Subfigures (the subfigure package is deprecated and should not be used)
\usepackage[toc,page]{appendix}			% Appendices
\usepackage{pdfpages}					% Useful when your appendix is a pre-compiled PDF, such as a whole paper
\usepackage{url}						% Useful when one wants to include URLs in the text
\usepackage[
      colorlinks=true,    			%no frame around URL
      urlcolor=black,    			%no colors
      menucolor=black,    			%no colors
      linkcolor=black,    			%no colors
      citecolor=black,    			%no colors
      bookmarks=true,    			%tree-like TOC
      bookmarksopen=true,    		%expanded when starting
      bookmarksnumbered=true, 		%Put section numbers in bookmarks
      hyperfootnotes=true,    		%no referencing of footnotes, does not compile
      pdfpagemode=UseOutlines,    	%show the bookmarks when starting the pdf viewer
      plainpages=false, 			%solve problem ``destination with the same identifier'' warning
      pdfpagelabels				 	%solve problem ``destination with the same identifier'' warning
]{hyperref} 							% So that our citations look good and still work as links
\usepackage{epigraph}					% For your inspirational quote
\usepackage{etoolbox}
\usepackage{enumitem}
\usepackage{listings,xcolor}
\usepackage{algpseudocode, algorithm2e}
\usepackage{algcompatible}
\usepackage{booktabs}
\usepackage{multirow}
\usepackage{emptypage}
%\usepackage{subfigure}
%\usepackage{fontspec}

\setlength{\parindent}{2em}

\setlength{\headheight}{16pt}
\renewcommand{\baselinestretch}{1.3}	% 1.5 line spacing, as mandated by the rules
%\titleformat{\chapter}[hang] 			% Smaller chapter titles
%{\normalfont\huge\bfseries}{\thechapter}{1em}{}

% Your info goes here
\newcommand{\thesistitle}{Relatório de Estágio MEI-IdC}			% Your work's title
\newcommand{\myname}{João Paulo Lopes Agostinho}				% Your name
\newcommand{\statedate}{Tomar, Março 2020}					% The date, usually "Place, Month Year"
\newcommand{\supervisorname}{Renato Eduardo da Silva Panda, Instituto Politécnico de Tomar}		% Your supervisor's name
%\newcommand{\cosupervisorname}{Professora Doutora Marie Curie}	% Your co-supervisor's name, if any.


\renewcommand\lstlistingname{}
\renewcommand\lstlistlistingname{Algorithms} %!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

%\DeclareUnicodeCharacter{00A0}{~}

\makeatletter
\renewcommand*{\cleardoublepage}{\clearpage\if@twoside \ifodd\c@page\else
\hbox{}%
\thispagestyle{empty}%
\newpage%
\if@twocolumn\hbox{}\newpage\fi\fi\fi}
\makeatother

\pagestyle{plain}
\addto\captionsportuges{
  \renewcommand{\contentsname}%
    {ÍNDICE}%
}
\addto\captionsportuges{
  \renewcommand{\listtablename}%
    {ÍNDICE DE TABELAS}%
}
\addto\captionsportuges{
  \renewcommand{\listfigurename}{ÍNDICE DE FIGURAS}
}

\renewcommand\appendixtocname{Apêndice}
\renewcommand\appendixpagename{Apêndice}


% MAIN DOCUMENT
\begin{document}
\pagestyle{headings}
\pagenumbering{roman}

\includepdf[pages={-}]{images/cover/capa.pdf}
% Blank page
\newpage
\thispagestyle{empty}
\mbox{}
% Title page 1
%\input{title_page1}
% Blank page
%\newpage
%\thispagestyle{empty}
%\mbox{}

% Agradecimentos
\titleformat{\chapter}[display]{\rmfamily\Large\bfseries}{\thechapter}{0.5ex}{\centering}[\vspace{-0.5ex}\rule{\textwidth}{0.3pt}]
\chapter*{AGRADECIMENTOS}
\addcontentsline{toc}{chapter}{Agradecimentos}
\input{acknowledgements}
% You can add blank pages here, if you like
\newpage\null\thispagestyle{empty}\newpage

% RESUMO
\titleformat{\chapter}[display]{\rmfamily\Large\bfseries}{\thechapter}{0.5ex}{\centering}[\vspace{-0.5ex}\rule{\textwidth}{0.3pt}]
\chapter*{RESUMO}
\addcontentsline{toc}{chapter}{Resumo}
\input{resumo}
\newpage\null\thispagestyle{empty}\newpage 

%ABSTRACT
\titleformat{\chapter}[display]{\rmfamily\Large\bfseries}{\thechapter}{0.5ex}{\centering}[\vspace{-0.5ex}\rule{\textwidth}{0.3pt}]
\chapter*{ABSTRACT}
\addcontentsline{toc}{chapter}{Abstract}
\input{abstract}
% And here as well
\newpage\null\thispagestyle{empty}\newpage

% INSPIRATIONAL QUOTE
% Setup
\setlength\epigraphwidth{12cm}
\setlength\epigraphrule{0pt}
\makeatletter
\patchcmd{\epigraph}{\@epitext{#1}}{\itshape\@epitext{#1}}{}{}
\makeatother
% Actual Quote
\vspace*{\fill}
\epigraph{"Persistence is the shortest path to success"}{}
{ ---  \textup{Charles Chaplin}}
\vspace*{\fill}
\newpage\null\thispagestyle{empty}\newpage

% TABLE OF CONTENTS

\titleformat{\chapter}[display]{\rmfamily\Large\bfseries}{\thechapter}{0.5ex}{\centering}[\vspace{-0.5ex}\rule{\textwidth}{0.3pt}]
\tableofcontents
\clearpage
% LIST OF ACRONYMS
\chapter*{ACRÓNIMOS}
\addcontentsline{toc}{chapter}{Acrónimos}
\input{list_acronyms}

\addcontentsline{toc}{chapter}{Índice de Figuras}
\listoffigures
\clearpage %\cleardoublepage %for openright
\addcontentsline{toc}{chapter}{Índice de Tabelas}
\listoftables


\clearpage %\cleardoublepage %for openright
\renewcommand\lstlistlistingname{ÍNDICE DE ALGORITMOS}
\addcontentsline{toc}{chapter}{Índice de Algoritmos}
\lstlistoflistings
\renewcommand\lstlistingname{Algoritmo}
\renewcommand\lstlistlistingname{Algoritmos}

% BODY
\newpage
\thispagestyle{empty}
\mbox{}

\fancyhead[LE,RE]{\slshape\rightmark}
\fancyhead[LO,RO]{\slshape\leftmark}
\fancyhead[RE,LO]{}
\pagestyle{fancy}
\titleformat{\chapter}[display]
    {\normalfont\huge\bfseries}{\chaptertitlename\ \thechapter}{20pt}{\Huge}
\titlespacing*{\chapter}{0pt}{0pt}{20pt}

\chapter{Introdução}
\pagenumbering{arabic}
\input{introduction}
	% Arabic numbering starts

% For each chapter, you should have a bit of code that looks like this:
% \label allows you to later \ref that chapter.
% \input includes a different .tex file, so that you can have you dissertation
% neatly partitioned into several files. I recommend one file per chapter.
\chapter{Estado da Arte}
\label{chap:state_of_the_art}
\input{state_of_the_art}

\chapter{Trabalho Desenvolvido}\label{workcharp}
\input{work}

\chapter{Testes e Avaliação}\label{cap4}
\input{tests}

\chapter{Conclusões e Trabalho Futuro}
\input{conclusion_future_work}

% REFERENCES
% Edit the references.bib file to add your own references, that you can then
% \cite on your text.


\bibliographystyle{ieeetr}

\addcontentsline{toc}{chapter}{Bibliografia}
\bibliography{references}

%\clearpage %\cleardoublepage %for openright
\renewcommand{\thesection}{Apêndices \Roman{section}}

\begin{appendices}
\chapter{Exemplo de um SVG} \label{svg}
\input{svg}
 \chapter{Exemplo de um SVG comprimido} \label{svggo}
\input{svggo}
\chapter{Fluxograma dos processos de Registo -App}\label{E}
\input{E}

\chapter{Fluxograma do processo de Envio - App}\label{F}
\input{F}

\chapter{Fluxograma de receção de Pacotes BLE}\label{G}
\input{G}

 \chapter{Fluxograma do processo de receção de pacotes} \label{flux1}
\input{C}
\chapter{Código da obtenção da posição - LSE}\label{D}
\input{D}


\end{appendices}

\end{document}
